---
import MailIcon from "./icons/Mail.astro";
---

<div class="max-w-4xl mx-auto">
  <!-- Header -->
  <div class="text-center mb-12">
    <h2 class="font-heading text-4xl font-bold text-holy-text-primary mb-4">
      Estoy escuchando
    </h2>
    <p class="text-xl text-holy-text-secondary leading-relaxed max-w-2xl mx-auto">
      ¿Tienes una idea que quieres convertir en realidad? Cuéntame tu proyecto, 
      tus desafíos o simplemente di hola. Cada gran producto digital comienza con una conversación.
    </p>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
    <!-- Formulario -->
    <div class="form-container backdrop-blur-sm rounded-2xl p-8 border border-holy-action/20">
      <form
        action="https://formspree.io/f/xwpkwjpk"
        method="POST"
        class="space-y-6"
      >
        <!-- Honeypot field -->
        <input type="hidden" name="_subject" value="Nuevo mensaje desde The Holy Code" />
        <input type="hidden" name="_next" value="https://holy-code.com/gracias" />
        <div class="hidden">
          <label>
            No llenar este campo si eres humano:
            <input name="_gotcha" />
          </label>
        </div>

        <!-- Nombre -->
        <div>
          <label for="name" class="block text-holy-text-primary font-semibold mb-2">
            Nombre *
          </label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-4 py-3 form-field rounded-lg text-holy-text-primary form-placeholder focus:border-holy-action focus:outline-none focus:ring-2 focus:ring-holy-action/20 transition-colors"
            placeholder="Tu nombre"
          />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-holy-text-primary font-semibold mb-2">
            Email *
          </label>
          <input
            type="email"
            id="email"
            name="email"
            required
            class="w-full px-4 py-3 form-field rounded-lg text-holy-text-primary form-placeholder focus:border-holy-action focus:outline-none focus:ring-2 focus:ring-holy-action/20 transition-colors"
            placeholder="tu@email.com"
          />
        </div>

        <!-- Asunto -->
        <div>
          <label for="subject" class="block text-holy-text-primary font-semibold mb-2">
            Asunto
          </label>
          <input
            type="text"
            id="subject"
            name="subject"
            class="w-full px-4 py-3 form-field rounded-lg text-holy-text-primary form-placeholder focus:border-holy-action focus:outline-none focus:ring-2 focus:ring-holy-action/20 transition-colors"
            placeholder="¿En qué puedo ayudarte?"
          />
        </div>

        <!-- Tipo de proyecto -->
        <div>
          <label for="project-type" class="block text-holy-text-primary font-semibold mb-2">
            Tipo de proyecto
          </label>
          <select
            id="project-type"
            name="project-type"
            class="w-full px-4 py-3 form-field rounded-lg text-holy-text-primary focus:border-holy-action focus:outline-none focus:ring-2 focus:ring-holy-action/20 transition-colors"
          >
            <option value="">Seleccionar...</option>
            <option value="desarrollo-web">Desarrollo Web/App</option>
            <option value="mvp">MVP para Startup</option>
            <option value="consultoria">Consultoría Técnica</option>
            <option value="co-creacion">Co-creación de Ideas</option>
            <option value="otro">Otro</option>
          </select>
        </div>

        <!-- Mensaje -->
        <div>
          <label for="message" class="block text-holy-text-primary font-semibold mb-2">
            Mensaje *
          </label>
          <textarea
            id="message"
            name="message"
            rows="6"
            required
            class="w-full px-4 py-3 form-field rounded-lg text-holy-text-primary form-placeholder focus:border-holy-action focus:outline-none focus:ring-2 focus:ring-holy-action/20 transition-colors resize-none"
            placeholder="Cuéntame sobre tu proyecto, idea o pregunta. Mientras más detalles compartas, mejor podré ayudarte."
          ></textarea>
        </div>

        <!-- Botón de envío -->
        <button
          type="submit"
          class="w-full inline-flex items-center justify-center gap-2 px-6 py-4 bg-holy-action hover:bg-holy-action/90 text-holy-text-primary rounded-lg font-semibold text-button transition-all duration-300 hover:scale-105 hover:shadow-lg hover:shadow-holy-action/25"
        >
          <MailIcon class="size-5" />
          Enviar mensaje
        </button>
      </form>
    </div>

    <!-- Información de contacto -->
    <div class="space-y-8">
      <!-- Contacto directo -->
      <div class="form-info-card backdrop-blur-sm rounded-2xl p-6 border form-info-border">
        <h3 class="font-heading text-xl font-semibold text-holy-text-primary mb-4">
          Contacto directo
        </h3>
        <div class="space-y-4">
          <div class="flex items-center gap-3">
            <div class="p-2 bg-holy-action/20 rounded-lg">
              <MailIcon class="size-5 text-holy-action" />
            </div>
            <div>
              <p class="text-holy-text-primary font-semibold">Email</p>
              <a 
                href="mailto:mauro@holy-code.com"
                class="text-holy-action hover:text-holy-action/80 transition-colors"
              >
                mauro@holy-code.com
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Tiempo de respuesta -->
      <div class="form-info-card backdrop-blur-sm rounded-2xl p-6 border form-info-border">
        <h3 class="font-heading text-xl font-semibold text-holy-text-primary mb-4">
          Tiempo de respuesta
        </h3>
        <div class="space-y-3">
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-holy-action rounded-full"></span>
            <span class="text-holy-text-secondary">Email: 24-48 horas</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-holy-action rounded-full"></span>
            <span class="text-holy-text-secondary">Proyectos urgentes: mismo día</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-2 h-2 bg-holy-action rounded-full"></span>
            <span class="text-holy-text-secondary">Consultas técnicas: 2-3 días</span>
          </div>
        </div>
      </div>

      <!-- Proceso -->
      <div class="form-info-card backdrop-blur-sm rounded-2xl p-6 border form-info-border">
        <h3 class="font-heading text-xl font-semibold text-holy-text-primary mb-4">
          ¿Qué sigue?
        </h3>
        <div class="space-y-3">
          <div class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 bg-holy-action text-holy-text-primary rounded-full flex items-center justify-center text-sm font-bold">1</span>
            <div>
              <p class="text-holy-text-primary font-semibold">Conversación inicial</p>
              <p class="text-holy-text-secondary text-sm">Entendemos tu proyecto y objetivos</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 bg-holy-action text-holy-text-primary rounded-full flex items-center justify-center text-sm font-bold">2</span>
            <div>
              <p class="text-holy-text-primary font-semibold">Propuesta personalizada</p>
              <p class="text-holy-text-secondary text-sm">Estrategia, timeline y presupuesto</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <span class="flex-shrink-0 w-6 h-6 bg-holy-action text-holy-text-primary rounded-full flex items-center justify-center text-sm font-bold">3</span>
            <div>
              <p class="text-holy-text-primary font-semibold">Desarrollo colaborativo</p>
              <p class="text-holy-text-secondary text-sm">Transformamos la idea en realidad</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* === FORM STYLING FOR BOTH THEMES === */
  
  /* Default (Dark Mode) - Already perfect */
  .form-container {
    background-color: rgba(22, 42, 63, 0.3);
  }
  
  .form-field {
    background-color: rgba(15, 31, 46, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }
  
  .form-placeholder::placeholder {
    color: rgba(176, 190, 197, 0.5);
  }
  
  .form-info-card {
    background-color: rgba(22, 42, 63, 0.2);
  }
  
  .form-info-border {
    border-color: rgba(255, 255, 255, 0.2);
  }

  /* === LIGHT MODE - BEAUTIFUL GLASSMORPHISM === */
  :root:not(.dark) .form-container {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(248, 250, 252, 0.8) 50%,
      rgba(40, 167, 69, 0.05) 100%
    );
    box-shadow: 
      0 8px 32px rgba(40, 167, 69, 0.1),
      0 4px 16px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
    border: 1px solid rgba(40, 167, 69, 0.2);
  }
  
  :root:not(.dark) .form-field {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.95) 0%, 
      rgba(248, 250, 252, 0.9) 100%
    );
    border: 1px solid rgba(40, 167, 69, 0.2);
    box-shadow: 
      0 2px 8px rgba(40, 167, 69, 0.08),
      0 1px 3px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  :root:not(.dark) .form-field:focus {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.98) 0%, 
      rgba(248, 250, 252, 0.95) 100%
    );
    border-color: var(--holy-action);
    box-shadow: 
      0 4px 12px rgba(40, 167, 69, 0.15),
      0 2px 6px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 1),
      0 0 0 3px rgba(40, 167, 69, 0.1);
    transform: translateY(-2px);
  }
  
  :root:not(.dark) .form-field:hover:not(:focus) {
    border-color: rgba(40, 167, 69, 0.4);
    box-shadow: 
      0 3px 10px rgba(40, 167, 69, 0.12),
      0 1px 4px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.95);
    transform: translateY(-1px);
  }
  
  :root:not(.dark) .form-placeholder::placeholder {
    color: rgba(71, 85, 105, 0.6);
    font-weight: 400;
  }
  
  :root:not(.dark) .form-info-card {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(248, 250, 252, 0.8) 50%,
      rgba(40, 167, 69, 0.03) 100%
    );
    box-shadow: 
      0 4px 16px rgba(40, 167, 69, 0.08),
      0 2px 8px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
    transition: all 0.3s ease;
  }
  
  :root:not(.dark) .form-info-card:hover {
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.95) 0%, 
      rgba(248, 250, 252, 0.9) 50%,
      rgba(40, 167, 69, 0.05) 100%
    );
    box-shadow: 
      0 6px 20px rgba(40, 167, 69, 0.12),
      0 3px 10px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 1);
    transform: translateY(-2px);
  }
  
  :root:not(.dark) .form-info-border {
    border-color: rgba(40, 167, 69, 0.2);
  }

  /* === SELECT SPECIFIC STYLING FOR LIGHT MODE === */
  :root:not(.dark) select.form-field {
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2328A745' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 16px;
    appearance: none;
  }
  
  :root:not(.dark) select.form-field option {
    background-color: white;
    color: var(--holy-text-primary);
    padding: 8px 12px;
  }

  /* === ENHANCED ANIMATIONS === */
  .form-field {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .form-field:focus {
    transform: translateY(-1px);
  }
  
  button:hover {
    transform: translateY(-2px);
  }
  
  /* === VALIDATION STYLES === */
  .form-field:invalid:not(:placeholder-shown) {
    border-color: #ef4444 !important;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1) !important;
  }
  
  .form-field:valid:not(:placeholder-shown) {
    border-color: #28A745 !important;
  }
  
  :root:not(.dark) .form-field:valid:not(:placeholder-shown) {
    box-shadow: 
      0 2px 8px rgba(40, 167, 69, 0.15),
      0 1px 3px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      0 0 0 3px rgba(40, 167, 69, 0.1) !important;
  }

  /* === SPARKLE EFFECT FOR LIGHT MODE === */
  :root:not(.dark) .form-container::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
      radial-gradient(circle at 15% 15%, rgba(40, 167, 69, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 85% 85%, rgba(40, 167, 69, 0.08) 0%, transparent 50%),
      radial-gradient(circle at 50% 50%, rgba(40, 167, 69, 0.05) 0%, transparent 50%);
    pointer-events: none;
    border-radius: inherit;
  }
</style> 